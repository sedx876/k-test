{"ast":null,"code":"var _jsxFileName = \"/Users/sharonwatkins/Desktop/Code/kline/client/src/components/routes/AdminRoute.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport LoadingToRedirect from \"./LoadingToRedirect\";\nimport { currentAdmin } from \"../../functions/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AdminRoute = _ref => {\n  _s();\n\n  let {\n    children,\n    ...rest\n  } = _ref;\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n  const [ok, setOk] = useState(false);\n  useEffect(() => {\n    if (user && user.token) {\n      currentAdmin(user.token).then(res => {\n        console.log(\"CURRENT ADMIN RES\", res);\n        setOk(true);\n      }).catch(err => {\n        console.log(\"ADMIN ROUTE ERR\", err);\n        setOk(false);\n      });\n    }\n  }, [user]);\n  return ok ? /*#__PURE__*/_jsxDEV(Route, { ...rest\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 15\n  }, this) : /*#__PURE__*/_jsxDEV(LoadingToRedirect, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 37\n  }, this);\n};\n\n_s(AdminRoute, \"wBhjhzGBq1sJowQkY90HFv97Gs4=\", false, function () {\n  return [useSelector];\n});\n\n_c = AdminRoute;\nexport default AdminRoute;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminRoute\");","map":{"version":3,"sources":["/Users/sharonwatkins/Desktop/Code/kline/client/src/components/routes/AdminRoute.js"],"names":["React","useEffect","useState","Route","useSelector","LoadingToRedirect","currentAdmin","AdminRoute","children","rest","user","state","ok","setOk","token","then","res","console","log","catch","err"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,SAASC,YAAT,QAA6B,sBAA7B;;;AAEA,MAAMC,UAAU,GAAG,QAA2B;AAAA;;AAAA,MAA1B;AAAEC,IAAAA,QAAF;AAAY,OAAGC;AAAf,GAA0B;AAC5C,QAAM;AAAEC,IAAAA;AAAF,MAAWN,WAAW,CAAEO,KAAD,KAAY,EAAE,GAAGA;AAAL,GAAZ,CAAD,CAA5B;AACA,QAAM,CAACC,EAAD,EAAKC,KAAL,IAAcX,QAAQ,CAAC,KAAD,CAA5B;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIS,IAAI,IAAIA,IAAI,CAACI,KAAjB,EAAwB;AACtBR,MAAAA,YAAY,CAACI,IAAI,CAACI,KAAN,CAAZ,CACGC,IADH,CACSC,GAAD,IAAS;AACbC,QAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCF,GAAjC;AACAH,QAAAA,KAAK,CAAC,IAAD,CAAL;AACD,OAJH,EAKGM,KALH,CAKUC,GAAD,IAAS;AACdH,QAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BE,GAA/B;AACAP,QAAAA,KAAK,CAAC,KAAD,CAAL;AACD,OARH;AASD;AACF,GAZQ,EAYN,CAACH,IAAD,CAZM,CAAT;AAcA,SAAOE,EAAE,gBAAG,QAAC,KAAD,OAAWH;AAAX;AAAA;AAAA;AAAA;AAAA,UAAH,gBAAyB,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA,UAAlC;AACD,CAnBD;;GAAMF,U;UACaH,W;;;KADbG,U;AAqBN,eAAeA,UAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport LoadingToRedirect from \"./LoadingToRedirect\";\nimport { currentAdmin } from \"../../functions/auth\";\n\nconst AdminRoute = ({ children, ...rest }) => {\n  const { user } = useSelector((state) => ({ ...state }));\n  const [ok, setOk] = useState(false);\n\n  useEffect(() => {\n    if (user && user.token) {\n      currentAdmin(user.token)\n        .then((res) => {\n          console.log(\"CURRENT ADMIN RES\", res);\n          setOk(true);\n        })\n        .catch((err) => {\n          console.log(\"ADMIN ROUTE ERR\", err);\n          setOk(false);\n        });\n    }\n  }, [user]);\n\n  return ok ? <Route {...rest} /> : <LoadingToRedirect />;\n};\n\nexport default AdminRoute;"]},"metadata":{},"sourceType":"module"}