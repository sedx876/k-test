{"ast":null,"code":"var _jsxFileName = \"/Users/sharonwatkins/Desktop/Code/kline/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Switch, Route } from \"react-router-dom\";\nimport Login from './pages/auth/Login';\nimport Register from './pages/auth/Register';\nimport Home from './pages/Home';\nimport Header from './components/nav/Header';\nimport RegisterComplete from './pages/auth/RegisterComplete';\nimport History from \"./pages/user/History\";\nimport UserRoute from \"./components/routes/UserRoute\";\nimport AdminRoute from \"./components/routes/AdminRoute\";\nimport Password from \"./pages/user/Password\";\nimport Wishlist from \"./pages/user/Wishlist\";\nimport AdminDashboard from \"./pages/admin/AdminDashboard\";\nimport CategoryCreate from \"./pages/admin/category/CategoryCreate\";\nimport CategoryUpdate from \"./pages/admin/category/CategoryUpdate\";\nimport SubCreate from \"./pages/admin/sub/SubCreate\";\nimport SubUpdate from \"./pages/admin/sub/SubUpdate\";\nimport { ToastContainer } from \"react-toastify\";\nimport { auth } from './firebase';\nimport { useDispatch } from 'react-redux';\nimport { currentUser } from \"./functions/auth\";\nimport ForgotPassword from \"./pages/auth/ForgotPassword\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(async user => {\n      if (user) {\n        const idTokenResult = await user.getIdTokenResult(); // console.log(\"user\", user);\n\n        currentUser(idTokenResult.token).then(res => {\n          dispatch({\n            type: \"LOGGED_IN_USER\",\n            payload: {\n              name: res.data.name,\n              email: res.data.email,\n              token: idTokenResult.token,\n              role: res.data.role,\n              _id: res.data._id\n            }\n          });\n        }).catch(err => console.log(err));\n      }\n    }); // cleanup\n\n    return () => unsubscribe();\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        component: Home\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/login\",\n        component: Login\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/register\",\n        component: Register\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/register/complete\",\n        component: RegisterComplete\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/forgot/password\",\n        component: ForgotPassword\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(UserRoute, {\n        exact: true,\n        path: \"/user/history\",\n        component: History\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(UserRoute, {\n        exact: true,\n        path: \"/user/password\",\n        component: Password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(UserRoute, {\n        exact: true,\n        path: \"/user/wishlist\",\n        component: Wishlist\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(AdminRoute, {\n        exact: true,\n        path: \"/admin/dashboard\",\n        component: AdminDashboard\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(AdminRoute, {\n        exact: true,\n        path: \"/admin/category\",\n        component: CategoryCreate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(AdminRoute, {\n        exact: true,\n        path: \"/admin/category/:slug\",\n        component: CategoryUpdate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(App, \"rAh3tY+Iv6hWC9AI4Dm+rCbkwNE=\", false, function () {\n  return [useDispatch];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/sharonwatkins/Desktop/Code/kline/client/src/App.js"],"names":["React","useEffect","Switch","Route","Login","Register","Home","Header","RegisterComplete","History","UserRoute","AdminRoute","Password","Wishlist","AdminDashboard","CategoryCreate","CategoryUpdate","SubCreate","SubUpdate","ToastContainer","auth","useDispatch","currentUser","ForgotPassword","App","dispatch","unsubscribe","onAuthStateChanged","user","idTokenResult","getIdTokenResult","token","then","res","type","payload","name","data","email","role","_id","catch","err","console","log"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'\nimport { Switch, Route } from \"react-router-dom\"\nimport Login from './pages/auth/Login'\nimport Register from './pages/auth/Register'\nimport Home from './pages/Home'\nimport Header from './components/nav/Header'\nimport RegisterComplete from './pages/auth/RegisterComplete'\nimport History from \"./pages/user/History\"\nimport UserRoute from \"./components/routes/UserRoute\"\nimport AdminRoute from \"./components/routes/AdminRoute\"\nimport Password from \"./pages/user/Password\"\nimport Wishlist from \"./pages/user/Wishlist\"\nimport AdminDashboard from \"./pages/admin/AdminDashboard\"\nimport CategoryCreate from \"./pages/admin/category/CategoryCreate\"\nimport CategoryUpdate from \"./pages/admin/category/CategoryUpdate\"\nimport SubCreate from \"./pages/admin/sub/SubCreate\";\nimport SubUpdate from \"./pages/admin/sub/SubUpdate\";\nimport { ToastContainer } from \"react-toastify\"\nimport {auth} from './firebase'\nimport {useDispatch} from 'react-redux'\nimport { currentUser } from \"./functions/auth\"\nimport ForgotPassword from \"./pages/auth/ForgotPassword\"\nimport \"react-toastify/dist/ReactToastify.css\"\n\n\n\nconst App = () => {\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(async (user) => {\n      if (user) {\n        const idTokenResult = await user.getIdTokenResult();\n        // console.log(\"user\", user);\n\n        currentUser(idTokenResult.token)\n          .then((res) => {\n            dispatch({\n              type: \"LOGGED_IN_USER\",\n              payload: {\n                name: res.data.name,\n                email: res.data.email,\n                token: idTokenResult.token,\n                role: res.data.role,\n                _id: res.data._id,\n              },\n            });\n          })\n          .catch((err) => console.log(err));\n      }\n    });\n    // cleanup\n    return () => unsubscribe();\n  }, [dispatch]);\n\n  return(\n    <>\n      <Header/>\n      <ToastContainer />\n      <Switch>\n      <Route exact path='/' component={Home} />\n      <Route exact path='/login' component={Login} />\n      <Route exact path='/register' component={Register} />\n      <Route exact path=\"/register/complete\" component={RegisterComplete} />\n      <Route exact path=\"/forgot/password\" component={ForgotPassword} />\n      <UserRoute exact path=\"/user/history\" component={History} />\n      <UserRoute exact path=\"/user/password\" component={Password} />\n      <UserRoute exact path=\"/user/wishlist\" component={Wishlist} />\n      <AdminRoute exact path=\"/admin/dashboard\" component={AdminDashboard} />\n      <AdminRoute exact path=\"/admin/category\" component={CategoryCreate} />\n      <AdminRoute\n        exact\n        path=\"/admin/category/:slug\"\n        component={CategoryUpdate}\n      />\n    </Switch>\n    </>\n    \n  )\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}